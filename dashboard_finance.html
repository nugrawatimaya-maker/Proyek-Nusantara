<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard Finance Pro</title>
  
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <script>
    // Cek Izin Akses (Sama seperti sebelumnya)
    const izin = sessionStorage.getItem("izin_akses");
    if (izin !== "finance" && izin !== "superadmin") {
      // alert("‚õî Anda tidak memiliki akses ke Finance!");
      // window.location.href = "login_internal.html";
      // (Di-comment dulu agar Anda bisa preview tanpa login saat development)
    }
  </script>

  <style>
    /* Transisi Halus untuk Sidebar */
    .sidebar { transition: all 0.3s ease-in-out; }
    .content-area { transition: all 0.3s ease-in-out; }
    
    /* Hide scrollbar for sidebar but keep functionality */
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
  </style>
</head>
<body class="bg-gray-100 font-sans text-gray-800">

  <div class="flex h-screen overflow-hidden">

    <aside id="sidebar" class="sidebar w-64 bg-white border-r border-gray-200 flex flex-col h-full fixed md:relative z-20 transform -translate-x-full md:translate-x-0">
      
      <div class="h-16 flex items-center justify-center border-b border-gray-200 bg-green-600">
        <h1 class="text-white font-bold text-xl tracking-wider"><i class="fas fa-building mr-2"></i>NLD FINANCE</h1>
      </div>

      <div class="flex-1 overflow-y-auto no-scrollbar py-4">
        <nav class="px-4 space-y-2">
          
          <p class="text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2">Utama</p>
          <a href="#" class="flex items-center gap-3 px-4 py-3 bg-green-50 text-green-700 rounded-lg font-bold">
            <i class="fas fa-chart-pie w-5"></i> Dashboard
          </a>

          <p class="text-xs font-semibold text-gray-400 uppercase tracking-wider mt-6 mb-2">Transaksi Kas</p>
          <a href="kas_masuk.html" class="flex items-center gap-3 px-4 py-2 text-gray-600 hover:bg-gray-50 hover:text-green-600 rounded-lg transition">
            <i class="fas fa-arrow-down w-5"></i> Kas Masuk
          </a>
          <a href="kas_keluar.html" class="flex items-center gap-3 px-4 py-2 text-gray-600 hover:bg-gray-50 hover:text-red-600 rounded-lg transition">
            <i class="fas fa-arrow-up w-5"></i> Kas Keluar
          </a>
          <a href="monitoring_cek.html" class="flex items-center gap-3 px-4 py-2 text-gray-600 hover:bg-gray-50 hover:text-blue-600 rounded-lg transition">
            <i class="fas fa-money-check-alt w-5"></i> Cek & Giro
          </a>

          <p class="text-xs font-semibold text-gray-400 uppercase tracking-wider mt-6 mb-2">Accounting</p>
          <a href="input_jurnal_umum.html" class="flex items-center gap-3 px-4 py-2 text-gray-600 hover:bg-gray-50 hover:text-green-600 rounded-lg transition">
            <i class="fas fa-book w-5"></i> Jurnal Umum
          </a>
          <a href="jurnal_memorial.html" class="flex items-center gap-3 px-4 py-2 text-gray-600 hover:bg-gray-50 hover:text-green-600 rounded-lg transition">
            <i class="fas fa-sticky-note w-5"></i> Jurnal Memorial
          </a>
          <a href="laporan_jurnal.html" class="flex items-center gap-3 px-4 py-2 text-gray-600 hover:bg-gray-50 hover:text-green-600 rounded-lg transition">
            <i class="fas fa-file-invoice-dollar w-5"></i> Laporan Keuangan
          </a>
          <a href="rekonsiliasi_bank.html" class="flex items-center gap-3 px-4 py-2 text-gray-600 hover:bg-gray-50 hover:text-green-600 rounded-lg transition">
            <i class="fas fa-university w-5"></i> Rekonsiliasi Bank
          </a>

          <p class="text-xs font-semibold text-gray-400 uppercase tracking-wider mt-6 mb-2">Operasional & Vendor</p>
          <a href="purchase_order_entry.html" class="flex items-center gap-3 px-4 py-2 text-gray-600 hover:bg-gray-50 hover:text-purple-600 rounded-lg transition">
            <i class="fas fa-shopping-cart w-5"></i> Purchase Order (PO)
          </a>
          <a href="input_tagihan_Vendor.html" class="flex items-center gap-3 px-4 py-2 text-gray-600 hover:bg-gray-50 hover:text-purple-600 rounded-lg transition">
            <i class="fas fa-file-contract w-5"></i> Tagihan Vendor
          </a>
          <a href="upah_tukang.html" class="flex items-center gap-3 px-4 py-2 text-gray-600 hover:bg-gray-50 hover:text-orange-600 rounded-lg transition">
            <i class="fas fa-hard-hat w-5"></i> Upah Tukang
          </a>

          <p class="text-xs font-semibold text-gray-400 uppercase tracking-wider mt-6 mb-2">Aset</p>
          <a href="monitoring_aktiva_tetap.html" class="flex items-center gap-3 px-4 py-2 text-gray-600 hover:bg-gray-50 hover:text-teal-600 rounded-lg transition">
            <i class="fas fa-building w-5"></i> Aktiva Tetap
          </a>

          <div class="mt-8 border-t pt-4">
             <a href="index.html" class="flex items-center gap-3 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition">
                <i class="fas fa-sign-out-alt w-5"></i> Keluar / Home
             </a>
          </div>
        </nav>
      </div>
    </aside>

    <main class="content-area flex-1 flex flex-col h-full relative overflow-y-auto">
      
      <header class="h-16 bg-white border-b border-gray-200 flex items-center justify-between px-6 sticky top-0 z-10">
        <button id="toggleSidebar" class="text-gray-500 hover:text-green-600 focus:outline-none">
          <i class="fas fa-bars text-xl"></i>
        </button>
        
        <div class="flex items-center gap-4">
            <div class="text-right hidden sm:block">
                <p class="text-sm font-bold text-gray-800">Finance Team</p>
                <p class="text-xs text-gray-500">PT. Nusantara Land</p>
            </div>
            <div class="h-10 w-10 bg-green-100 rounded-full flex items-center justify-center text-green-600 font-bold border border-green-200">
                FT
            </div>
        </div>
      </header>

      <div class="p-6 space-y-6">
        
        <div>
            <h2 class="text-2xl font-bold text-gray-800">Financial Overview</h2>
            <p class="text-sm text-gray-500">Ringkasan performa keuangan bulan ini.</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            <div class="bg-white p-5 rounded-xl shadow-sm border border-gray-100 flex items-center gap-4 hover:shadow-md transition">
                <div class="h-12 w-12 rounded-full bg-green-100 flex items-center justify-center text-green-600">
                    <i class="fas fa-wallet text-xl"></i>
                </div>
                <div>
                    <p class="text-xs text-gray-500 font-bold uppercase">Saldo Kas & Bank</p>
                    <h3 class="text-xl font-bold text-gray-800">Rp 2.450M</h3>
                    <p class="text-[10px] text-green-600"><i class="fas fa-arrow-up"></i> +5% bulan ini</p>
                </div>
            </div>

            <div class="bg-white p-5 rounded-xl shadow-sm border border-gray-100 flex items-center gap-4 hover:shadow-md transition">
                <div class="h-12 w-12 rounded-full bg-red-100 flex items-center justify-center text-red-600">
                    <i class="fas fa-file-invoice-dollar text-xl"></i>
                </div>
                <div>
                    <p class="text-xs text-gray-500 font-bold uppercase">Pengeluaran (Oct)</p>
                    <h3 class="text-xl font-bold text-gray-800">Rp 450jt</h3>
                    <p class="text-[10px] text-red-500">Operasional & Gaji</p>
                </div>
            </div>

            <div class="bg-white p-5 rounded-xl shadow-sm border border-gray-100 flex items-center gap-4 hover:shadow-md transition cursor-pointer" onclick="window.location.href='purchase_order_entry.html'">
                <div class="h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center text-yellow-600">
                    <i class="fas fa-clock text-xl"></i>
                </div>
                <div>
                    <p class="text-xs text-gray-500 font-bold uppercase">Pending PO Approval</p>
                    <h3 class="text-xl font-bold text-gray-800">12 Item</h3>
                    <p class="text-[10px] text-yellow-600">Klik untuk proses</p>
                </div>
            </div>

            <div class="bg-white p-5 rounded-xl shadow-sm border border-gray-100 flex items-center gap-4 hover:shadow-md transition cursor-pointer" onclick="window.location.href='input_tagihan_Vendor.html'">
                <div class="h-12 w-12 rounded-full bg-purple-100 flex items-center justify-center text-purple-600">
                    <i class="fas fa-users text-xl"></i>
                </div>
                <div>
                    <p class="text-xs text-gray-500 font-bold uppercase">Tagihan Vendor</p>
                    <h3 class="text-xl font-bold text-gray-800">Rp 125jt</h3>
                    <p class="text-[10px] text-purple-600">Jatuh tempo < 7 hari</p>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            
            <div class="bg-white p-5 rounded-xl shadow-sm border border-gray-100 lg:col-span-2">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="font-bold text-gray-700">Arus Kas (6 Bulan Terakhir)</h3>
                    <select class="text-xs border rounded p-1">
                        <option>2025</option>
                    </select>
                </div>
                <div class="relative h-72">
                    <canvas id="chartArusKas"></canvas>
                </div>
            </div>

            <div class="bg-white p-5 rounded-xl shadow-sm border border-gray-100">
                <h3 class="font-bold text-gray-700 mb-4">Pos Pengeluaran</h3>
                <div class="relative h-56 flex justify-center">
                    <canvas id="chartPie"></canvas>
                </div>
                <div class="mt-4 space-y-2 text-xs text-gray-600">
                    <div class="flex justify-between"><span>üë∑ Upah & Tukang</span> <span class="font-bold">45%</span></div>
                    <div class="flex justify-between"><span>üß± Material (PO)</span> <span class="font-bold">30%</span></div>
                    <div class="flex justify-between"><span>üè¢ Operasional Kantor</span> <span class="font-bold">25%</span></div>
                </div>
            </div>
        </div>

        <div class="bg-white p-5 rounded-xl shadow-sm border border-gray-100">
            <h3 class="font-bold text-gray-700 mb-4">Akses Cepat (Entry Data)</h3>
            <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
                <a href="kas_masuk.html" class="p-4 rounded-lg bg-green-50 text-green-700 hover:bg-green-100 text-center transition">
                    <i class="fas fa-plus-circle text-2xl mb-2"></i>
                    <p class="text-xs font-bold">Input Kas Masuk</p>
                </a>
                <a href="purchase_order_entry.html" class="p-4 rounded-lg bg-blue-50 text-blue-700 hover:bg-blue-100 text-center transition">
                    <i class="fas fa-file-invoice text-2xl mb-2"></i>
                    <p class="text-xs font-bold">Buat PO Baru</p>
                </a>
                <a href="master_coa.html" class="p-4 rounded-lg bg-gray-50 text-gray-700 hover:bg-gray-100 text-center transition">
                    <i class="fas fa-list text-2xl mb-2"></i>
                    <p class="text-xs font-bold">Master COA</p>
                </a>
            </div>
        </div>

      </div>
    </main>
  </div>

  <script>
    // 1. LOGIKA TOGGLE SIDEBAR (Responsive)
    const btnToggle = document.getElementById('toggleSidebar');
    const sidebar = document.getElementById('sidebar');
    
    btnToggle.addEventListener('click', () => {
        // Jika di mobile (layar kecil), toggle translate
        // Jika di desktop, kita bisa buat logic 'mini-sidebar' jika mau, 
        // tapi untuk sekarang toggle hide/show saja.
        if (window.innerWidth < 768) {
            sidebar.classList.toggle('-translate-x-full');
        } else {
            sidebar.classList.toggle('hidden'); 
        }
    });

    // 2. SETUP CHART.JS (DUMMY DATA)
    const ctxBar = document.getElementById('chartArusKas').getContext('2d');
    new Chart(ctxBar, {
        type: 'bar',
        data: {
            labels: ['Mei', 'Jun', 'Jul', 'Agu', 'Sep', 'Okt'],
            datasets: [
                {
                    label: 'Pemasukan',
                    data: [500, 750, 400, 900, 650, 800],
                    backgroundColor: '#22c55e',
                    borderRadius: 4,
                },
                {
                    label: 'Pengeluaran',
                    data: [400, 300, 350, 500, 450, 400],
                    backgroundColor: '#ef4444',
                    borderRadius: 4,
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: { y: { beginAtZero: true, grid: { color: '#f3f4f6' } }, x: { grid: { display: false } } },
            plugins: { legend: { position: 'bottom' } }
        }
    });

    const ctxPie = document.getElementById('chartPie').getContext('2d');
    new Chart(ctxPie, {
        type: 'doughnut',
        data: {
            labels: ['Upah', 'Material', 'Ops'],
            datasets: [{
                data: [45, 30, 25],
                backgroundColor: ['#f97316', '#3b82f6', '#64748b'],
                borderWidth: 0
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            cutout: '70%',
            plugins: { legend: { display: false } }
        }
    });
  </script>
</body>
</html>